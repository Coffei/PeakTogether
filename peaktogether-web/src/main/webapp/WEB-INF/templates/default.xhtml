<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>#{title}</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<h:outputStylesheet name="css/screen.css" />
	<link
		href="//netdna.bootstrapcdn.com/font-awesome/3.2.0/css/font-awesome.css"
		rel="stylesheet" />
    <script src="http://maps.google.com/maps/api/js?sensor=false"
        type="text/javascript"></script>
        
          <script type="text/javascript">  
    var currentMarker = null;  
      
    function handlePointClick(event) {  
        if(currentMarker == null) {  
            document.getElementById('lat').value = event.latLng.lat();  
            document.getElementById('lng').value = event.latLng.lng();  
  
                    dlg.show();  

            console.log("HandlePoint Click do we have anything?"+event.latLng.lat());
        }     
    }  
  
    function markerAddComplete() {  

        currentMarker = new google.maps.Marker({  
            position:new google.maps.LatLng(document.getElementById('lat').value,  document.getElementById('lng').value)  
        });  
                          
      

        var title = document.getElementById('title');
        var type = document.getElementById('location');  
        var typeOut;

    console.log("type:"+type);
    console.log("type value:"+type.value);
    console.log("type value to string"+type.value.toString()); 	

    if (type.value.toString() == "START") {
        typeOut = "Start";
        currentMarker.setIcon("http://maps.google.com/mapfiles/ms/micons/green-dot.png");
    }
    else if (type.value.toString() == "END") {
        typeOut = "End";
        currentMarker.setIcon("http://maps.google.com/mapfiles/ms/micons/red-dot.png");
    }
    else {
        typeOut = "Checkpoint";

        currentMarker.setIcon("http://maps.google.com/mapfiles/ms/micons/yellow-dot.png");
    }
        
        currentMarker.setTitle("Description: "+title.value+"\nType: "+typeOut);
        title.value = "";  
        type.value = "";
        typeOut = "";
        map.addOverlay(currentMarker); 
        currentMarker.setDraggable(true);
         
        currentMarker = null;  
        dlg.hide();  

        
    }  
  
    function cancel() {  
        dlg.hide();  
        currentMarker.setMap(null);  
        currentMarker = null;  
  
        return false;  
    }  
</script> 
</h:head>
<h:body>
	<div id="top-navigation">
		<h:form>
			<p:toolbar>
				<p:toolbarGroup align="left">
					<h:outputLink value="index.jsf" title="PeakTogether"
						style="font-size: 20px;">
				PeakTogether
				</h:outputLink>


					<p:separator />
					
					   <p:commandButton id="eventButton" value="Event" type="button" icon="ui-icon-calendar"/>
    <p:menu overlay="true" trigger="eventButton"  my="left top" at="left bottom">  
            <p:menuitem value="Add Event" url="addevent.jsf" icon="ui-icon-circle-plus"/>  
            <p:menuitem value="Browse Event" url="browseevents.jsf"  icon="ui-icon-folder-open"/>  
    </p:menu>  
					

					<p:commandButton value="Friends" icon="ui-icon-heart" />
					<p:commandButton value="Profile" icon="ui-icon-person" />
					<p:commandButton value="Settings" icon="ui-icon-wrench">

					</p:commandButton>
				</p:toolbarGroup>
				<p:toolbarGroup align="right">
					<p:inputText />
					<p:commandButton value="Search!" icon="ui-icon-search" />
				</p:toolbarGroup>


			</p:toolbar>
		</h:form>

	</div>
	<div id="left-sidebar">

		<p:panel>
			<div style="text-align: center; width: 100px; margin: 30px auto;">
				<p:commandButton value="Log In!" />
				<br />
				<p:commandButton value="Register!" />
			</div>
		</p:panel>

	</div>
	<div id="content">
		<p:panel header="#{title}">
			<ui:insert name="content" />
		</p:panel>

	</div>
</h:body>
</html>
